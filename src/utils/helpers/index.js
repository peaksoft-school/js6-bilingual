import React from "react";

import Cookies from "js-cookie";

const item = useSelector((inner) => inner.auth);
const navigate = useNavigate();
const dispatch = useDispatch();
// ///////////////////////////////////////////////////////////////////////////////////////
// ///////////////////////////////////////////////////////////////////////////////////////
// ///////////////////////////////////////////////////////////////////////////////////////
// ///////////////////////////////////////////////////////////////////////////////////////
export const getUserInfo = () => {
    let response = Cookies.get("userInfo");
    if (response) {
        response = JSON.parse(response);
    }
    return response;
};

const getUserInfoConst = getUserInfo();
// ///////////////////////////////////////////////////////////////////////////////////////
// ///////////////////////////////////////////////////////////////////////////////////////
// ///////////////////////////////////////////////////////////////////////////////////////
// ///////////////////////////////////////////////////////////////////////////////////////
const checkUser = (data) => {
    if (data?.role === "CLIENT") {
        dispatch(userRequest(data));
        return navigate("/home");
    }
    if (data?.role === "ADMIN") {
        dispatch(userRequest(data));
        return navigate("/admin");
    }
    // // no return statement
};
console.log(getUserInfoConst);
React.useEffect(() => {
    const userData = getUserInfo();
    checkUser(userData);
}, [getUserInfoConst?.token]);

export const userNavigate = () => {};
